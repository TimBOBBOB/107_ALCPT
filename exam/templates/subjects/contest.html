{% extends 'base/subjects_base2.html' %}
{% load static %}
{% block title %} ALCPT測驗系統-綜合練習 {% endblock%}
{% block content %}
<style type="text/css">
#customers
  {
  font-family: "Comic Sans MS",'STFangsong', cursive ;
  font-weight: bold;
  width:85%;
  border-collapse:collapse;
  margin:0px auto;
  }
#customers2
  {
  font-family: "Comic Sans MS",'STFangsong', cursive ;
  font-weight: bold;
  width:85%;
  border-collapse:collapse;
  margin:0px auto;
  border:0px solid #98bf21;

  }


#customers td, #customers th 
  {
  font-family: "Comic Sans MS",'STFangsong', cursive ;
  font-weight: bold;
  font-size:1em;
  border:1px solid #98bf21;
  padding:3px 7px 2px 7px;
  }

#customers th 
  {
  font-family: "Comic Sans MS",'STFangsong', cursive ;
  font-weight: bold;
  font-size:1.1em;
  text-align:left;
  padding-top:5px;
  padding-bottom:4px;
  background-color:#A7C942;
  color:#ffffff;
  }

#customers tr.alt td 
  {
  color:#000000;
  background-color:#EAF2D3;
  }


</style>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/JavaScript"></script>
    <script LANGUAGE="JavaScript">
        var LastID = 1;
        var doque = 0;
        var notque = 0;
        
        $(document).ready(function ()
        {
            $("#paper :radio").change(function ()
            {               
                document.getElementById("tq"+$(this).attr("id") ).innerHTML =$(this).val() ;

                document.getElementById($(this).attr("name")+$(this).attr("name")+$(this).attr("name") ).scrollIntoView() ; 

                document.getElementById($(this).attr("name")).style.background="yellow" ;
                var chose_ID = Number($(this).attr("name"))
                if(LastID==chose_ID){}
                else{
                document.getElementById(LastID ).style.background="white" ;
                LastID = chose_ID;}

            });
        });       
    </script>
    <SCRIPT LANGUAGE="JavaScript"> //顯示时间


        function ansmenu(){
            var anslist = {{anslist|safe}};
            var checklist = {{checklist|safe}};

         
            for(var i=1; i<=100; i++){
                document.getElementById("tq"+i ).innerHTML =anslist[i] ;
            }
            for(var i=1; i<=40; i++){
                var radname= "t" +checklist[i];
                if(anslist[i] =="A"){$(":radio[name=" + radname + "][value='A']").prop("checked","checked");  }
                else if(anslist[i] =="B"){$(":radio[name=" + radname + "][value='B']").prop("checked","checked");  }
                else if(anslist[i] =="C"){$(":radio[name=" + radname + "][value='C']").prop("checked","checked");  }
                else if(anslist[i] =="D"){$(":radio[name=" + radname + "][value='D']").prop("checked","checked");  }
                else{var jj=0; }
            }
            
            for(var i=41; i<=60; i++){
                var radname= "s" +checklist[i];
                if(anslist[i] =="A"){$(":radio[name=" + radname + "][value='A']").prop("checked","checked");  }
                else if(anslist[i] =="B"){$(":radio[name=" + radname + "][value='B']").prop("checked","checked");  }
                else if(anslist[i] =="C"){$(":radio[name=" + radname + "][value='C']").prop("checked","checked");  }
                else if(anslist[i] =="D"){$(":radio[name=" + radname + "][value='D']").prop("checked","checked");  }
                else{var jj=0; }
            }
            
            for(var i=61; i<=75; i++){
                var radname= "n" +checklist[i];
                if(anslist[i] =="A"){$(":radio[name=" + radname + "][value='A']").prop("checked","checked");  }
                else if(anslist[i] =="B"){$(":radio[name=" + radname + "][value='B']").prop("checked","checked");  }
                else if(anslist[i] =="C"){$(":radio[name=" + radname + "][value='C']").prop("checked","checked");  }
                else if(anslist[i] =="D"){$(":radio[name=" + radname + "][value='D']").prop("checked","checked");  }
                else{var jj=0; }
            }
            
            for(var i=76; i<=90; i++){
                var radname= "g" +checklist[i];
                if(anslist[i] =="A"){$(":radio[name=" + radname + "][value='A']").prop("checked","checked");  }
                else if(anslist[i] =="B"){$(":radio[name=" + radname + "][value='B']").prop("checked","checked");  }
                else if(anslist[i] =="C"){$(":radio[name=" + radname + "][value='C']").prop("checked","checked");  }
                else if(anslist[i] =="D"){$(":radio[name=" + radname + "][value='D']").prop("checked","checked");  }
                else{var jj=0; }
            }
            
            for(var i=91; i<=100; i++){
                var radname= "r" +checklist[i];
                if(anslist[i] =="A"){$(":radio[name=" + radname + "][value='A']").prop("checked","checked");  }
                else if(anslist[i] =="B"){$(":radio[name=" + radname + "][value='B']").prop("checked","checked");  }
                else if(anslist[i] =="C"){$(":radio[name=" + radname + "][value='C']").prop("checked","checked");  }
                else if(anslist[i] =="D"){$(":radio[name=" + radname + "][value='D']").prop("checked","checked");  }
                else{var jj=0; }
            }
            

        }

        function NoSure(ID){ 
                if (document.getElementById("s"+ID).src == "https://image.flaticon.com/icons/png/512/837/837406.png"){
                    document.getElementById("t"+ID ).style.backgroundColor ="#F58080" ;
                    document.getElementById("s"+ID).src ="https://ota-ch.com/jp/src/1519358313838.png";
                }
                else{
                    document.getElementById("t"+ID ).style.backgroundColor ="#FFFFFF" ;
                    document.getElementById("s"+ID).src ="https://image.flaticon.com/icons/png/512/837/837406.png";
                }


        }

    </SCRIPT>
 

    <script language="JavaScript"> //停留时间
        d1 = new Date();
        function fun(){
            d2 = new Date();
            diff = (d2.getTime() - d1.getTime())/1000;
            diff = Math.round(diff);
            second = diff % 60;
            minute = Math.round((diff-30)/60);
            hour = Math.round((diff-30)/3600);
            second = (second<10)?"0"+second:second;
            minute = (minute<10)?"0"+minute:minute;
            hour = (hour<10)?"0"+hour:hour;
            showTime.value = hour + ":" + minute + ":" + second;
            setInterval("fun()",1000);}
    </script>
<body onload="ansmenu()">
<div class="w3-sidebar w3-card w3-myfont" style="width:25%;height:85%;right:2%; top :10%; background-color:#FFD382 ;font-size:20px">
  <div class="panel-heading"><h3 class="w3-bar-item" style = "text-align:center">題目</h3>
      停留時間：<input type="text" id="showTime"></div>
  
    <table  height = "20" width = "30" id="customers2" style = "font-size:20px ; border:1px #FFD382 solid;">
      <tr>
          <td><button class="w3-button w3-white w3-border w3-round-large"  type="submit" onclick="auto.action='/next/';auto.submit();" form = "alcpt" />下次再做</button></td>
          <td><button class="w3-button w3-white w3-border w3-round-large"  type="submit" onclick="auto.action='/score/';auto.submit();"/>交卷</button></td>
      </tr>
    </table>
    <table border="1" height = "500" id="customers" style = "font-size:18px ; background-color:#FFFFFF ;" >
        <tr>
            <th COLSPAN = 10><CENTER>聽力</CENTER></th>
        </tr>
        {% for item in List3 %}
        　<tr>
        　<td id = "t{{item}}" align= "center"><a  href="#q{{ item }}"  >{{item}}</a></td><td id = "tq{{item}}" align= "center" style="background-color:#F0F8FF;"><a  href="#q{{ item }}"   ></a>&nbsp &nbsp</td>
        　<td id = "t{{item|add:1}}" align= "center"><a  href="#q{{item|add:1}}"  >{{item|add:1}}</a></td><td id = "tq{{item|add:1}}" align= "center" style="background-color:#F0F8FF;"><a  href="#q{{item|add:1}}"   ></a>&nbsp &nbsp</td>
        　<td id = "t{{item|add:2}}" align= "center"><a  href="#q{{ item|add:2 }}"  align= "center">{{item|add:2}}</a></td><td id = "tq{{item|add:2}}"align= "center" style="background-color:#F0F8FF;"><a  href="#q{{ item|add:2 }}"   ></a>&nbsp &nbsp</td>
        　<td id = "t{{item|add:3}}" align= "center"><a  href="#q{{ item|add:3 }}"align= "center" >{{item|add:3}}</a></td><td id = "tq{{item|add:3}}" align= "center" style="background-color:#F0F8FF;"><a  href="#q{{ item|add:3 }}"   ></a>&nbsp &nbsp</td>
        　<td id = "t{{item|add:4}}" align= "center"><a href="#q{{ item|add:4 }}" align= "center" >{{item|add:4}}</a></td><td id = "tq{{item|add:4}}"align= "center" style="background-color:#F0F8FF;"><a  href="#q{{ item|add:4 }}" ></a>&nbsp &nbsp</td>
        　</tr>
        {% endfor  %}
    </table>
    <table border="1" height = "333"  id="customers" style = "font-size:18px;background-color:#FFFFFF ;" >
        <tr >
            <th COLSPAN = 10><CENTER>閱讀</CENTER></th>
        </tr>
			{% for item in List4 %}
            　<tr>
            　<td id = "t{{item}}" align= "center"><a  href="#q{{ item }}"  >{{item}}</a></td><td id = "tq{{item}}" align= "center"><a  href="#q{{ item }}"   ></a>&nbsp &nbsp</td>
            　<td id = "t{{item|add:1}}" align= "center"><a  href="#q{{item|add:1}}"  >{{item|add:1}}</a></td><td id = "tq{{item|add:1}}" align= "center" style="background-color:#F0F8FF;"><a  href="#q{{item|add:1}}"   ></a>&nbsp &nbsp</td>
            　<td id = "t{{item|add:2}}" align= "center"><a  href="#q{{ item|add:2 }}"  align= "center">{{item|add:2}}</a></td><td id = "tq{{item|add:2}}"align= "center" style="background-color:#F0F8FF;"><a  href="#q{{ item|add:2 }}"   ></a>&nbsp &nbsp</td>
            　<td id = "t{{item|add:3}}" align= "center"><a  href="#q{{ item|add:3 }}"align= "center" >{{item|add:3}}</a></td><td id = "tq{{item|add:3}}" align= "center" style="background-color:#F0F8FF;"><a  href="#q{{ item|add:3 }}"   ></a>&nbsp &nbsp</td>
            　<td id = "t{{item|add:4}}" align= "center"><a href="#q{{ item|add:4 }}" align= "center" >{{item|add:4}}</a></td><td id = "tq{{item|add:4}}"align= "center" style="background-color:#F0F8FF;"><a  href="#q{{ item|add:4 }}" ></a>&nbsp &nbsp</td>
            　</tr>
			{% endfor  %}
    </table>
</div>
<div >
    <div class="row">
        <div class="col">
            <div style="margin-right:30% ;margin-left:10% ;margin-top:5% ;">
                <div class="panel panel-default">
                    <div class="panel-heading"><h4>模擬測驗&lang;聽力部分&rang;</h4>
                    </div>
                <div  id = "paper" class="panel-body" style="background-color:#FFD382 ; font-size:25px;">
                    <form name ="auto"  method="get" id = "alcpt">
                        {% for x in tq.all %}
                            <div id="q{{ forloop.counter}}" class="container-fluid bg-secondary" style="padding-top:70px;padding-bottom:70px;margin-bottom:20px ;background-color:#FFFFFF ;">
                                <table border="0" ><tr><td rowspan="2" width="120%">
                                <h1 >{{ forloop.counter}}.<audio src = "{{x.question.url}}" controls = "controls"></audio></h1>
                                <input type= "hidden" name = "q{{ forloop.counter }}" value= "{{ x.id }}">
                                    <div class="w3-container w3-margin-left">
                                        <input type="radio" name="t{{ x.id }}" id="{{ forloop.counter}}"  value="A">A.&nbsp{{ x.a }}<br>
                                        <input type="radio" name="t{{ x.id }}" id="{{ forloop.counter}}" value="B" >B.&nbsp{{ x.b }}<br>
                                        <input type="radio" name="t{{ x.id }}" id="{{ forloop.counter}}" value="C" >C.&nbsp{{ x.c }}<br>
                                        <input type="radio" name="t{{ x.id }}" id="{{ forloop.counter}}" value="D" >D.&nbsp{{ x.d }}
                                    </div>
                            </td>
                                <td><button type ="button" onclick="NoSure({{ forloop.counter}})" style = "background-color: transparent; border: 0;"><img  id = "s{{ forloop.counter}}" src ="https://image.flaticon.com/icons/png/512/837/837406.png" height = "80" width = "80"></button></td></tr></table>
                            </div>
                        {% endfor %}
                        {% for x in sq.all %}
                            <div id="q{{ forloop.counter|add:40}}" class="container-fluid bg-secondary" style="padding-top:70px;padding-bottom:70px;margin-bottom:20px ;background-color:#FFFFFF ;">
                                <table border="0" ><tr><td rowspan="2" width="120%">
                                <h1 >{{ forloop.counter|add:40}}.<audio src = "{{x.question.url}}" controls = "controls"></audio></h1>
                                    <input type= "hidden" name = "q{{ forloop.counter|add:40}}" value= "{{ x.id }}">
                                    <div class="w3-container w3-margin-left">
                                        <input type="radio" name="s{{ x.id }}" id="{{ forloop.counter|add:40}}"  value="A">A.&nbsp{{ x.a }}<br>
                                        <input type="radio" name="s{{ x.id }}" id="{{ forloop.counter|add:40}}" value="B" >B.&nbsp{{ x.b }}<br>
                                        <input type="radio" name="s{{ x.id }}" id="{{ forloop.counter|add:40}}" value="C" >C.&nbsp{{ x.c }}<br>
                                        <input type="radio" name="s{{ x.id }}" id="{{ forloop.counter|add:40}}" value="D" >D.&nbsp{{ x.d }}
                                    </div>
                                </td>
                                    <td><button type ="button" onclick="NoSure({{ forloop.counter|add:40}})" style = "background-color: transparent; border: 0;"><img  id = "s{{ forloop.counter|add:40}}" src ="https://image.flaticon.com/icons/png/512/837/837406.png" height = "80" width = "80"></button></td></tr></table>
                            </div>
                        {% endfor %}

                        {% for x in nq.all %}
                            <div id="q{{ forloop.counter|add:60}}" class="container-fluid bg-secondary" style="padding-top:70px;padding-bottom:70px;margin-bottom:20px ;background-color:#FFFFFF ;">
                                <table border="0" ><tr><td rowspan="2" width="120%">
                                <h1 >{{ forloop.counter|add:60}}.{{ x.question }} </h1>
                                    <input type= "hidden" name = "q{{ forloop.counter|add:60}}" value= "{{ x.id }}">
                                    <div class="w3-container w3-margin-left">
                                        <input type="radio" name="n{{ x.id }}" id="{{ forloop.counter|add:60}}"  value="A">A.&nbsp{{ x.a }}<br>
                                        <input type="radio" name="n{{ x.id }}" id="{{ forloop.counter|add:60}}" value="B" >B.&nbsp{{ x.b }}<br>
                                        <input type="radio" name="n{{ x.id }}" id="{{ forloop.counter|add:60}}" value="C" >C.&nbsp{{ x.c }}<br>
                                        <input type="radio" name="n{{ x.id }}" id="{{ forloop.counter|add:60}}" value="D" >D.&nbsp{{ x.d }}
                                    </div>
                                </td>
                                    <td><button type ="button" onclick="NoSure({{ forloop.counter|add:60}})" style = "background-color: transparent; border: 0;"><img  id = "s{{ forloop.counter|add:60}}" src ="https://image.flaticon.com/icons/png/512/837/837406.png" height = "80" width = "80"></button></td></tr></table>
                            </div>
                        {% endfor %}

                        {% for x in gq.all %}
                            <div id="q{{ forloop.counter|add:75}}" class="container-fluid bg-secondary" style="padding-top:70px;padding-bottom:70px;margin-bottom:20px ;background-color:#FFFFFF ;"><table border="0" ><tr>
                                <td rowspan="2" width="120%">
                                <h1 >{{ forloop.counter|add:75}}.{{ x.question }}</h1>
                                    <input type= "hidden" name = "q{{ forloop.counter|add:75}}" value= "{{ x.id }}">
                                   <div class="w3-container w3-margin-left">
                                        <input type="radio" name="g{{ x.id }}" id="{{ forloop.counter|add:75}}"  value="A">A.&nbsp{{ x.a }}<br>
                                        <input type="radio" name="g{{ x.id }}" id="{{ forloop.counter|add:75}}" value="B" >B.&nbsp{{ x.b }}<br>
                                        <input type="radio" name="g{{ x.id }}" id="{{ forloop.counter|add:75}}" value="C" >C.&nbsp{{ x.c }}<br>
                                        <input type="radio" name="g{{ x.id }}" id="{{ forloop.counter|add:75}}" value="D" >D.&nbsp{{ x.d }}
                                    </div>
                                </td>
                                <td>
                                    <button type ="button" onclick="NoSure({{ forloop.counter|add:75}})" style = "background-color: transparent; border: 0;"><img  id = "s{{ forloop.counter|add:75}}" src ="https://image.flaticon.com/icons/png/512/837/837406.png" height = "80" width = "80"></button></td></tr></table>
                            </div>
                        {% endfor %}

                        {% for x in rq.all %}
                            <div id="q{{ forloop.counter|add:90}}" class="container-fluid bg-secondary" style="padding-top:70px;padding-bottom:70px;margin-bottom:20px ;background-color:#FFFFFF ;"><table border="0" ><tr>
                                <td rowspan="2" width="120%">
                                <h1 >{{ forloop.counter|add:90}}.{{ x.question }}</h1>
                                    <input type= "hidden" name = "q{{ forloop.counter|add:90}}" value= "{{ x.id }}">
                                <div class="w3-container w3-margin-left">
                                    <input type="radio" name="r{{ x.id }}" id="{{ forloop.counter|add:90}}"  value="A">A.&nbsp{{ x.a }}<br>
                                    <input type="radio" name="r{{ x.id }}" id="{{ forloop.counter|add:90}}" value="B" >B.&nbsp{{ x.b }}<br>
                                    <input type="radio" name="r{{ x.id }}" id="{{ forloop.counter|add:90}}" value="C" >C.&nbsp{{ x.c }}<br>
                                    <input type="radio" name="r{{ x.id }}" id="{{ forloop.counter|add:90}}" value="D" >D.&nbsp{{ x.d }}
                                </div>
                                </td>
                                <td>
                                    <button type ="button" onclick="NoSure({{ forloop.counter|add:90}})" style = "background-color: transparent; border: 0;"><img  id = "s{{ forloop.counter|add:90}}" src ="https://image.flaticon.com/icons/png/512/837/837406.png" height = "80" width = "80"></button></td></tr></table>
                            </div>
                        {% endfor %}
        <button class="w3-button w3-white w3-border w3-round-large" type="submit" onclick="auto.action='/next/';auto.submit();"/>下次再做</button>
        <button class="w3-button w3-white w3-border w3-round-large" type="submit" onclick="auto.action='/score/';auto.submit();"/>交卷</button>
    </form>
<script language="JavaScript">
        d1 = new Date();
        function auto()
        {
            d2 = new Date();
            diff = (d2.getTime() - d1.getTime())/1000;
            diff = Math.round(diff);
            second = diff % 60;
            minute = Math.round((diff-30)/60);
            hour = Math.round((diff-30)/3600);

            second = (second<10)?"0"+second:second;
            minute = (minute<10)?"0"+minute:minute;
            hour = (hour<10)?"0"+hour:hour;0

            showTime.value = hour + ":" + minute + ":" + second;
            if (hour>=1){
              document.auto.submit();}
        }
        setInterval("auto()",1000);


    </script>
                </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
{% endblock %}

